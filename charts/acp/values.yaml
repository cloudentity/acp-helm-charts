## ACP image parameters
##
image:
  ## Image repository
  ##
  repository: docker.cloudentity.io/acp

  ## Image pull policy
  ##
  pullPolicy: IfNotPresent

  ## Image tag (immutable tags are recommended)
  ##
  tag:

## Global Docker registry secret names as an array
##
imagePullSecrets:
  - name: docker.cloudentity.io

## Public ACP URL
##
serverURL: "https://acp.local:8443"

## String to partially override acp.name
##
#nameOverride: ""

## String to fully override acp.fullname
##
# fullnameOverride: ""

# Additional labels to apply to all Kubernetes resources created by this chart.
labels: {}

serviceAccount:
  ## Specifies whether a service account should be created
  create: true
  ## Annotations to add to the service account
  annotations: {}
  ## The name of the service account to use.
  ## If not set and create is true, a name is generated using the fullname template
  # name: ""

## Array with container arguments to add to the ACP container
##
args:
  - server
  - start
  - --config
  - /data/config.yaml,/data/extraconfig.yaml,/secret/config.yaml
  - --demo
  - --metrics
  - --create-default-tenant
  - --create-default-workspaces

## Array with extra environment variables to add to the ACP container
##
# extraEnvVars: []

service:
  ## ACP service type
  ##
  type: ClusterIP

ingress:
  ## Enables the Ingress for ACP
  ##
  enabled: true

  ## Ingress additional custom annotations
  ##
  customAnnotations:

  ## Ingress hostnames with paths
  ##
  hosts:
    - host: acp.local
      paths:
        - path: /

  ## Ingress TLS configuration
  ## Secrets must be manually created in the namespace
  tls: []
  #  - secretName: acp-tls
  #    hosts:
  #      - acp.domain.com

autoscaling:
  enabled: false

## Number of ACP replicas to deploy
##
replicaCount: 1

## acp resource requests and limits
## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
##
resources: {}

## A security context defines privilege and access control settings for a Pod or Container
## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/
securityContext:
  runAsUser: 0

# ACP feature flags
features:
  integration_endpoints: false # enables import, export, global accept, deny, introspect endpoints
  dev_mode: false # realod templates, adds local redirects urls to frontend apps
  demo_app: false # enables demo app endpoints
  swagger_ui: false # enables swagger ui
  script_transformer: false # enable javascript transformer
  system_openbanking_consents_management: false # enable system openbanking consent management apis
  system_clients_management: false # enable system client management apis
  jwt_bearer_grant_type: false # enable jwt bearer grant type
  pyron_on_prem: false # enable, when ACP is running on-prem, and Pyron is used as gateway
  faas_provider: "" # default not secure embedded script runtime or fission
  openbanking_domestic_scheduled_payment_consents: false # enable openbanking domestic scheduled payment consent apis
  openbanking_domestic_payment_consents: false # enable openbanking domestic payment consent apis
  openbanking_domestic_standing_order_consents: false # enable openbanking domestic standing order consent apis
  openbanking_international_payment_consents: false # enable openbanking international payment consent apis
  openbanking_international_scheduled_payment_consents: false # enable openbanking international scheduled payment consent apis
  openbanking_international_standing_order_consents: false # enable openbanking international standing order consent apis
  openbanking_file_payment_consents: false # enable openbanking file payment consent apis
  openbanking_jws_verification: false # enable verification middleware for POST payment consent endpoints
  web_rotation_keys: false # enable roatation keys in frontend

## Enables the cert-manager integration
##
certManager:
  enabled: false
  privateKey:
    size: 4096
  issuerRef:
    kind: ClusterIssuer

## Disables TLS in ACP
##
tlsDisabled: false

importJob:
  enabled: false
  # path to config files
  config:
    - /data/config.yaml
    - /data/extraconfig.yaml
    - /secret/config.yaml
  # import mode (update, fail, ignore)
  mode: update
  # input file format: yaml or json
  format: yaml
  # path to the input file
  input: /import/seed.yaml
  # extra args for import command
  extraArgs: []
  # the data should match import configuration endpoint request body
  # https://docs.authorization.cloudentity.com/api/system/#operation/importConfiguration
  data:
    tenants: []
    servers: []
    clients: []
  resources: {}

## Default ACP config file
##
config:
  create: true
  # the data should match acp configuration options
  # https://docs.operations.cloudentity.com/reference/acp-configuration/
  data:
  #  logging:
  #     level: debug

## Additional ACP config file from secret
##
secretConfig:
  create: true
  # the data should match acp configuration options
  # https://docs.operations.cloudentity.com/reference/acp-configuration/
  data: {}
  #  system:
  #     secret: mysecret

certificate:
  ## Dummy cert and key
  ##
  cert: |
    -----BEGIN CERTIFICATE-----
    MIIEDjCCAvagAwIBAgIUFLUGb+Ux3LbyTAdP3Zskt0iCbQIwDQYJKoZIhvcNAQEL
    BQAwVzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0b24xEDAOBgNVBAcT
    B1NlYXR0bGUxFDASBgNVBAoTC0Nsb3VkZW50aXR5MQswCQYDVQQLEwJDQTAeFw0y
    MTA0MjIwNzQ2MDBaFw0yNjA0MjEwNzQ2MDBaMHcxCzAJBgNVBAYTAlVTMRQwEgYD
    VQQIEwtXYXNoaW5naHRvbjEQMA4GA1UEBxMHU2VhdHRsZTEUMBIGA1UEChMLQ2xv
    dWRlbnRpdHkxFjAUBgNVBAsTDUF1dGhvcml6YXRpb24xEjAQBgNVBAMTCWFjcC5s
    b2NhbDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAK3L1G7VKO4aDacw
    DGA6IOncTgT0jIUltS+OSLH9ke5ltLfIKZ+bjdMYjv7LT9xOH9V9lI5HRMtMxbhD
    mLYy9+dybWLB15mcxm+z3lruhBMPS/ZxcGvDdZQILl3CUf3z6JfJFt7c3cXsJfcu
    vBoQJcTCoK7R1fA1RPeCKITAMcCE+Oab67mQhZDC7NLcmJ0UORKaeVhn2ghpiUIM
    iP+uhdCaAGs683P6Aoh0N1z1zsfrc6pJLm44I6E8cYUSt0Kh4gC8K4ivJiDEpZUV
    O6VFFzbGLpmDJtQ7sycQCTK9XnIC+JLDBi8tJL/JlkEzI8T7FDQnraVEpI+3XvKi
    WinKlZUCAwEAAaOBsTCBrjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYB
    BQUHAwEGCCsGAQUFBwMCMAwGA1UdEwEB/wQCMAAwHQYDVR0OBBYEFGcYJd8n7Gcf
    cbvNVZgWPGnqJVqrMB8GA1UdIwQYMBaAFMpZB4RkFEn9Q7U/LsR9No6pW6NtMC8G
    A1UdEQQoMCaCCWxvY2FsaG9zdIIDYWNwgg5hY3AuYWNwLXN5c3RlbYcEfwAAATAN
    BgkqhkiG9w0BAQsFAAOCAQEAcm30fGxCWVpR+VRkF2nmnCtY6ksWT27eb5ZppsNs
    CoAwT9EMaRRQ3sx43/TvvdpxzJKcCHmdPLROgg/L5UMmOMjGT5mqcEvF8CiyAT/g
    pY1iuwqIbp3sSfnyTiQnGpSzHfvUsaOgkcFrLkC8lYLLal7aHSP5On3y+PMh8mdm
    DJSKt973VQj87q4qE9iDXdpzj0K5MKS+sbNOiOH8If9I2TqMcqwdrrLe/VP7mhz6
    oNc+cr++xId6h1jO768jq0OiK5G/oQQXZPD/wL+TXF0W/dw6F58EwHeQcD/H7wAs
    Z1hQb51e/+bSJxWMogTVPTEClXz0NpMIV9Xrcxfhk71Rjw==
    -----END CERTIFICATE-----

  key: |
    -----BEGIN RSA PRIVATE KEY-----
    MIIEpQIBAAKCAQEArcvUbtUo7hoNpzAMYDog6dxOBPSMhSW1L45Isf2R7mW0t8gp
    n5uN0xiO/stP3E4f1X2UjkdEy0zFuEOYtjL353JtYsHXmZzGb7PeWu6EEw9L9nFw
    a8N1lAguXcJR/fPol8kW3tzdxewl9y68GhAlxMKgrtHV8DVE94IohMAxwIT45pvr
    uZCFkMLs0tyYnRQ5Epp5WGfaCGmJQgyI/66F0JoAazrzc/oCiHQ3XPXOx+tzqkku
    bjgjoTxxhRK3QqHiALwriK8mIMSllRU7pUUXNsYumYMm1DuzJxAJMr1ecgL4ksMG
    Ly0kv8mWQTMjxPsUNCetpUSkj7de8qJaKcqVlQIDAQABAoIBAQCsgTb4U8funhmT
    KxP9p3Tn623daUbZGhZ/f4EUepYQxQ7dpGX8MJBTSXsV2IQKLdlXNPDxUDgueqN+
    REod/vUl2+RLNBBmPsCQOz6njzu1F2fU08A8lqPsLTqogaqUoTbrAgQbbasLO1xr
    vw2h6Qk0BeMr4sexR46PBbhmG8bGSRM/F+2lJKwrLdoBamJBrax0s33QXHJzE401
    Mbp0APSOr/8Sl7NGeAK6bjBKZgD6PjCRFvgTPH4N8IXUKcro25glpwT8AQAvpB2N
    hnULvGpElbMEcHYRz86Mjf/7zdIjaRx0/3dK87bmI3MrReNaJv1U+ne/lslPJizU
    mXbV1mABAoGBANl8OkIzRI0JmC4DN/QP0DCEmQMvE1vkR3rhRQMCeWPWn8E+17T4
    pOW+ffKEnT5paRmZrw9X3I79OEBrVErZYFNf6f33DMjB11bzs6KQF+N0if2NlSf9
    RMOOrbIKeg0+FRuDTxJX0VY+mjw7xfzRq7Zg+zLSdyTHbymvtLfyVrmVAoGBAMyS
    8X3WSYKLVKEkDH4IEz/Ohf9BvpS7f2lSr9VeK820WYJDKbVi5W+Usjr0/KR8dAgR
    qJdki3I4PQEwGT3ABcYg8Dv9/hdRSx+KV9oCPctA1pKG2eAiZkSXYePDZANU3SNw
    9SLMFWT7AENRmrbSZoxZh79c3RBu9SWYaaAsRWwBAoGBALUuRcaCuVgZpxql+cYs
    Kk9RF7vMSv9htJ7M7lYsiH5A/YPa247bGVyADqKsEec9n54BJxLMKmVA1Mzt3SIh
    55ptrByz5IWW3tOEYKFME2qc2pxNh/Xxi4iy40cQbU986c6q3IO2fyGvM4R8c1tE
    PR3Ju1tCdJlCP/xlcVNQ4yjlAoGBAKTDKIpv/w6MByItdX5AJLi8LgHSwprplAmQ
    1hsj2GW5fmnCjCIRv7YpbY68Z4pWzeD9z+n2ybS5hLCjO4EXWc8kEjhPLck76SRC
    +NSV/4zm8Kpcv7ecHP/baLTXVoK0Y9K6lERtWEHXQnP1koTyWjNpnEJMmaM1qm2Y
    HmIppdQBAoGAUbEDiujATPO8XVFqFPcFp4qHKlWFEraBc4Tesk1w1rDN6vIrT8Vh
    U78GmaVTXcGTrMt8QBt6fFUVbVpuW2Cf/aDH/6UelkwsobZaWQy58d2Nv0NSkguO
    DbIu9KRAOP+2TVg8uTYg1Y+PqAuAbQAauYpc+wb48EbMgXx1a294fuI=
    -----END RSA PRIVATE KEY-----
